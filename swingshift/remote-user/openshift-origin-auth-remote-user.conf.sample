LoadModule auth_basic_module modules/mod_auth_basic.so
LoadModule authn_file_module modules/mod_authn_file.so
LoadModule authz_user_module modules/mod_authz_user.so

<Location /broker>
    AuthName "OpenShift"
    AuthType Basic
    AuthUserFile /etc/stickshift/htpasswd
    require valid-user

    # The node->broker auth is handled in the Ruby code
    BrowserMatch Stickshift passthrough
    Allow from env=passthrough

    Order Deny,Allow
    Deny from all
    Satisfy any
</Location>
